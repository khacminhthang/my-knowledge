<div>
  <h1 style="font-size: 3rem;">Angular Router - Guards and Resolvers Part 2</h1>
  <br>

  <!-- CanDeactivate -->
  <span  class="title pb-0">CanDeactivate</span>
  <div class="border-b1"></div>
  <br>
  <p>Giả sử chúng ta có chức năng edit bài viết, khách hàng yêu cầu thêm một điều là khi người ta đã thay đổi một cái gì
    đó mà chưa save thông tin lại, và nếu người dùng redirect sang một trang khác, thì sẽ phải hỏi người dùng xem có
    thật sự muốn rời khỏi trang hay không.</p>
  <p>Giả sử phần config routing của chúng ta sẽ có từ bài trước như sau:</p>
  <pre>
              <code><pre>{{text1}}</pre></code>
          </pre>
  <p>Lúc này chúng ta có thể thêm một service, và nó sẽ implement CanDeactivate guard để check như sau.</p>
  <br>
  <pre>
              <code><pre>{{text2}}</pre></code>
          </pre>
  <p>Sau đó chúng ta sẽ thêm guard vào config routing như đối với CanActivate trong ngày hôm trước.</p>
  <br>
  <pre>
              <code><pre>{{text3}}</pre></code>
          </pre>
  <p>Giờ đây mỗi khi người dùng navigate ra khỏi màn hình edit này, Angular Router sẽ chạy
    CanLeaveEditGuard.canDeactivate, do đó chúng ta có thể check những điều kiện cần thiết để có thể cho phép redirect
    hay không.</p>
  <pre>
      <code><pre>{{text4}}</pre></code>
  </pre>
  <p>Để tăng tính reuse của guard, chúng ta có thể sử dụng implement interface như sau.</p>
  <pre>
    <code><pre>{{text5}}</pre></code>
</pre>
  <p>Sau đó component của chúng ta sẽ chịu trách nhiệm implement logic này.</p>
  <pre>
    <code><pre>{{text6}}</pre></code>
</pre>
  <pre>
    <code><pre>{{text7}}</pre></code>
</pre>
  <p>Trường hợp cần thiết chúng ta hoàn toàn có thể hiển thị confirm dialog để hỏi người dùng xem có muốn rời khỏi trang
    hay không.</p>
  <pre>
      <code><pre>{{text8}}</pre></code>
  </pre>
  <br>

  <!--CanLoad -->
  <span  class="title pb-0">CanLoad</span>
  <div class="border-b1"></div>
  <br>
  <p>Đối với các lazy load route, chúng ta có thể kiểm tra trước ở frontend, nếu thỏa mãn điều kiện mới cho phép tải về.
  </p>
  <p>Ví dụ, application của chúng ta có chức năng cho admin vào xem để quản lý. Đối với người dùng thông thường, chúng
    ta không cần thiết phải tải phần code của route /admin về. Lúc đó CanLoad sẽ là một guard hữu ích cho chúng ta sử
    dụng.
  </p>
  <pre>
    <code><pre>{{text9}}</pre></code>
</pre>
  <pre>
    <code><pre>{{text10}}</pre></code>
</pre>
  <p>Từ đây chúng ta có thể implement các logic để check xem có thể load về hay không, ví dụ như sau:</p>
  <pre>
    <code><pre>{{text11}}</pre></code>
</pre>
  <br>
</div>